# 🤖 AI開発アシスタント プロンプト

> **🎯 目的**: GitHub Copilot・Claude等のAI開発支援  
> **📖 補完**: [GitHub Copilot実装ガイド](../.copilot-instructions.md) で詳細実装ルールを確認  
> **🔄 最終更新**: 2025年7月7日

---

## 🚀 **開発コンテキスト**

### **プロジェクト**: NIHONGO-AI（日本語学習・教育向けWebApp）
### **技術スタック**: Next.js 15 + TypeScript + Tailwind CSS + next-intl
### **現在の状況**: 
- ✅ **基本機能**: 100%完成（全ページ・多言語・レスポンシブ）
- ✅ **ブログ機能**: Phase 1-3完了（9記事×4言語・検索・画像最適化）
- ✅ **記事自動生成**: Claude API・Unsplash・翻訳システム
- ✅ **ビルド**: TypeScript・ESLintエラー0件・Vercelデプロイ済み

---

## 💡 **AI開発支援用プロンプト**

### **新機能開発時のプロンプト**
```
現在のNIHONGO-AIプロジェクトに{新機能名}を追加したい。

【現在の状況】
- Next.js 15.3.0 + TypeScript + Tailwind CSS
- 9記事×4言語のマークダウンブログシステム完成
- src/app/[locale]/ 構造で多言語対応
- TypeScript・ESLintエラー0件維持中

【実装したい機能】
{具体的な機能説明}

【制約条件】
- 型安全性維持（TypeScriptエラー0件）
- 多言語対応（ja/en/zh-TW/zh-CN）
- レスポンシブデザイン
- Server/Client Component適切な使い分け

【期待する出力】
1. 実装計画
2. 必要なファイル・コンポーネント
3. 具体的なコード例
4. テスト方法
```
- BlogImage・LazyImage・ImageGalleryコンポーネント

## 現在の記事一覧（5記事×4言語）
1. **001-ui-components**: UIコンポーネント設計
2. **002-design-skills**: デザインスキル向上  
3. **003-coding-tips**: コーディングのコツ
4. **004-ai-japanese-education**: AI×日本語教育
5. **005-online-japanese-class-tips**: オンライン授業のコツ

## 著者管理システム
- **natsuki-yamashita**: 山下なつき（メイン著者）
- **nihongo-ai**: NIHONGO-AI（AI著者）
- **samuel-josh**: Samuel Josh（ゲスト著者）

著者情報は`src/content/authors/*.json`で管理し、記事では`authorId`で参照
- BlogImage・LazyImage・ImageGalleryコンポーネント

## 開発時の重要ルール
1. 全テキストは翻訳ファイル (`messages/*.json`) から取得
2. TypeScript型安全性を最優先（エラー0件維持）
3. レスポンシブ + ダークモード対応必須
4. Next.js Image コンポーネント使用（WebP/AVIF対応）
5. Server Component優先・Client Component最小限
6. ブログ画像は BlogImage コンポーネント使用

## 頻繁に使用するパターン

### ブログ画像コンポーネント（Phase 3実装済み）
```tsx
import { BlogImage } from "@/components/Blog/BlogImage";

// 遅延読み込み・多言語キャプション対応
<BlogImage
  src="/images/hero.jpg"
  alt={{ ja: "サンプル画像", en: "Sample Image" }}
  caption={{ ja: "説明文", en: "Description" }}
  locale={locale}
  priority={false}
  className="rounded-lg"
/>
```

### 検索機能実装（Phase 2実装済み）
```tsx
import { useSearchBlogs } from "@/components/Blog/hooks/useSearchBlogs";

// Fuse.js による高精度検索
const { searchQuery, filteredPosts, handleSearch } = useSearchBlogs(posts, locale);
```

### ページコンポーネント
```tsx
import { getTranslations, setRequestLocale } from "next-intl/server";
import { Metadata } from "next";

type Props = { params: Promise<{ locale: string }>; };

export async function generateMetadata({ params }: Props): Promise<Metadata> {
  const { locale } = await params;
  const t = await getTranslations({ locale, namespace: "PageName" });
  return { title: t("title"), description: t("description") };
}

const PageName = async ({ params }: Props) => {
  const { locale } = await params;
  setRequestLocale(locale);
  const t = await getTranslations("PageName");
  
  return (
    <section className="pt-[180px] pb-[120px]">
      <div className="container">
        <h1 className="text-3xl font-bold">{t("title")}</h1>
      </div>
    </section>
  );
};
```

### 共通スタイリング
```tsx
// セクション
<section className="overflow-hidden pt-[180px] pb-[120px]">

// コンテナ
<div className="container">

// グリッドレイアウト  
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

// ダークモード対応
<div className="bg-white dark:bg-dark text-black dark:text-white">

// プライマリボタン
<button className="bg-primary text-white hover:bg-primary/90 px-6 py-3 rounded-md">
```

## 質問時のコンテキスト提供
開発に関する質問をする際は、以下を明確にしてください：
- 実装したい機能の詳細
- 対象となるページ・コンポーネント
- 多言語対応の必要性
- レスポンシブ対応の要件
- 既存コードとの整合性

## プロジェクトファイル参照
重要なファイル：
- `PROJECT_DOCUMENTATION.md` - 包括的プロジェクト情報
- `.github/.copilot-instructions.md` - 開発ガイドライン  
- `src/i18n/routing.ts` - 国際化設定
- `messages/*.json` - 翻訳ファイル
- `src/app/[locale]/components/` - UIコンポーネント

## Server vs Client Component 判断基準

### 🖥️ Server Component (推奨・デフォルト)
```tsx
// SEO重要、静的コンテンツ、初期レンダリング最適化
import { getTranslations } from "next-intl/server";

const ServerComponent = async ({ params }: Props) => {
  const t = await getTranslations("PageName");
  return <section>{t("content")}</section>;
};
```

### 💻 Client Component (必要最小限)
```tsx
// ユーザーインタラクション、状態管理、ブラウザAPI使用
"use client";
import { useState } from "react";

const ClientComponent = () => {
  const [state, setState] = useState(false);
  return <button onClick={() => setState(!state)}>Toggle</button>;
};
```

## 現在のServer/Client分類

### 🖥️ Server Components
- **全ページ**: page.tsx (SEO最適化)
- **セクション**: Hero, Features, About, Testimonials, Video
- **データ表示**: Blog, SingleBlog, SingleFeature
- **静的UI**: SectionTitle, Breadcrumb, **Footer**
- **ブログ機能**: BlogImage, LazyImage, ImageGallery

### 💻 Client Components  
- **Header**: スクロール検出、サブメニュー
- **LanguageSwitcher**: 動的言語変更
- **ThemeToggler**: テーマ状態管理
- **PricingClient**: 月額/年額切替
- **NewsLatterBoxClient**: フォーム処理
- **VideoPlayButton**: モーダル制御
- **ScrollToTop**: スクロール制御
- **BlogSearch**: 検索機能（デバウンス対応）
- **BlogFilter**: タグフィルタ（レスポンシブ折りたたみ）
- **BlogSort**: ソート機能（アニメーション付き）

### ✅ 最適化完了
- **Footer**: Client → Server 変更完了！(静的コンテンツ + i18n対応)
- **ブログ機能**: Phase 1&2&3実装完了
- **画像管理**: WebP/AVIF最適化・遅延読み込み完了

## タスク管理状況

### ✅ 完了 (95%)
- 基本機能、国際化、UI/UX、レスポンシブ
- **ブログ機能Phase 1&2&3**: マークダウン・検索・画像管理完了

### 🚧 進行中 (60-80%)  
- SEO最適化、パフォーマンス調整、アクセシビリティ

### ⏳ 今後実装 (0-50%)
- **ブログ機能Phase 4**: 左右表示翻訳対照機能
- 認証システム、データベース、課金システム

## 不足している重要ファイル

### 設定ファイル
- `.env.example` - 環境変数テンプレート
- `jest.config.js` - テスト設定
- `.github/workflows/ci.yml` - CI/CD

### 型定義
- `src/types/user.ts` - ユーザー型
- `src/types/api.ts` - API型  
- `src/types/form.ts` - フォーム型

### ページ
- `privacy/page.tsx` - プライバシーポリシー
- `404.tsx` - カスタム404

### 翻訳
- ErrorPage, FormValidation, Metadata カテゴリ

## プロジェクトファイル参照（役割分担）
> **詳細情報**: 各ドキュメントの専門領域を参照

- **[PROJECT_DOCUMENTATION.md](../PROJECT_DOCUMENTATION.md)** - プロジェクト全体概要・技術選択理由
- **[BLOG_REQUIREMENTS.md](./BLOG_REQUIREMENTS.md)** - ブログ機能特化の要件・進捗管理  
- **[.copilot-instructions.md](./.copilot-instructions.md)** - 実装ガイドライン・コーディング規則
- **[BLOG_IMPLEMENTATION_PLAN.md](./BLOG_IMPLEMENTATION_PLAN.md)** - ブログ機能実装の詳細計画

### **記事自動生成システム活用プロンプト**
```
NIHONGO-AIプロジェクトで新しいブログ記事を自動生成したい。

【記事生成システム概要】
- utils/ディレクトリにClaude API・Unsplash API連携システム完成
- 自動生成機能: アイディア→記事→翻訳→画像→検証

【実行したいタスク】
1. テーマ: {記事テーマ}
2. 対象読者: {ターゲット}
3. 記事数: {数}

【生成コマンド例】
```bash
cd utils
python main.py ideas --theme "AI教育"
python main.py generate 010
python main.py full 010
```

【期待する出力】
- src/content/blog/posts/{ID}/: 多言語記事
- public/images/blog/{ID}/: 最適化画像
- 自動的にindex.json更新
```

### **トラブルシューティング用プロンプト**
```
NIHONGO-AIプロジェクトで{問題内容}が発生している。

【現在の状況】
- プロジェクト: Next.js 15 + TypeScript + Tailwind
- エラー: {具体的なエラーメッセージ}
- 関連ファイル: {問題のファイルパス}

【システム構成】
- src/app/[locale]/ - 多言語ページ
- src/content/ - マークダウン記事・著者データ
- utils/ - 記事自動生成システム

【解決の方向性】
1. 型安全性維持
2. 多言語対応継続
3. 既存機能への影響最小化

【期待する回答】
- 問題の原因分析
- 具体的な修正方法
- 再発防止策
```

---

## 🔧 **実装時の重要ルール**

1. **型安全性**: TypeScriptエラー0件維持
2. **多言語対応**: 全UI要素をmessages/*.jsonで翻訳
3. **Server Component優先**: パフォーマンス最適化
4. **レスポンシブ**: モバイルファースト設計
5. **既存機能保護**: 実装済み機能への影響最小化
6. **記事自動生成**: utils/システムとの連携考慮

---

## 📚 **関連ドキュメント**

- [GitHub Copilot実装ガイド](../.copilot-instructions.md) - 具体的開発ルール
- [ブログ要件定義](../BLOG_REQUIREMENTS.md) - 機能概要・要件
- [ブログ実装計画](../BLOG_IMPLEMENTATION_PLAN.md) - 技術実装詳細
- [記事自動生成README](../../utils/README.md) - システム使用方法
- [プロジェクト全体ドキュメント](../../PROJECT_DOCUMENTATION.md) - 包括的情報